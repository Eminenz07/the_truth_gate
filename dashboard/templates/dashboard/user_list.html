{% extends 'dashboard/base.html' %} {% block header_title %}Users{% endblock %}
{% block content %}
<div class="card">
  <div
    style="
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    "
  >
    <div>
      <h2>Registered Users</h2>
      <p style="color: var(--text-light); font-size: 0.9rem">
        View all users signed up on the platform.
      </p>
    </div>
    <div
      style="
        background: var(--bg-body);
        padding: 0.5rem 1rem;
        border-radius: 6px;
        font-weight: 500;
        font-size: 0.9rem;
      "
    >
      Total Users: {{ users.count }}
    </div>
  </div>

  <div style="overflow-x: auto">
    <table style="width: 100%; border-collapse: collapse">
      <thead>
        <tr
          style="border-bottom: 2px solid var(--border-color); text-align: left"
        >
          <th
            style="
              padding: 1rem;
              font-weight: 600;
              color: var(--text-light);
              font-size: 0.85rem;
              text-transform: uppercase;
            "
          >
            Username
          </th>
          <th
            style="
              padding: 1rem;
              font-weight: 600;
              color: var(--text-light);
              font-size: 0.85rem;
              text-transform: uppercase;
            "
          >
            Email
          </th>
          <th
            style="
              padding: 1rem;
              font-weight: 600;
              color: var(--text-light);
              font-size: 0.85rem;
              text-transform: uppercase;
            "
          >
            Date Joined
          </th>
          <th
            style="
              padding: 1rem;
              font-weight: 600;
              color: var(--text-light);
              font-size: 0.85rem;
              text-transform: uppercase;
            "
          >
            Status
          </th>
          <th
            style="
              padding: 1rem;
              font-weight: 600;
              color: var(--text-light);
              font-size: 0.85rem;
              text-transform: uppercase;
            "
          >
            Password
          </th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr style="border-bottom: 1px solid var(--border-color)">
          <td style="padding: 1rem; font-weight: 500">
            <div style="display: flex; align-items: center; gap: 0.75rem">
              <div
                style="width: 32px; height: 32px; background: {% if user.is_staff %}var(--primary){% else %}#cbd5e0{% endif %}; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.8rem;"
              >
                {{ user.username|make_list|first|upper }}
              </div>
              {{ user.username }}
            </div>
          </td>
          <td style="padding: 1rem">{{ user.email|default:"-" }}</td>
          <td
            style="padding: 1rem; color: var(--text-light); font-size: 0.9rem"
          >
            {{ user.date_joined|date:"M d, Y" }}
          </td>
          <td style="padding: 1rem">
            {% if user.is_staff %}
            <span
              style="
                background: rgba(84, 110, 122, 0.1);
                color: var(--primary);
                padding: 0.25rem 0.75rem;
                border-radius: 99px;
                font-size: 0.8rem;
                font-weight: 600;
              "
              >Staff</span
            >
            {% elif user.is_active %}
            <span
              style="
                background: rgba(72, 187, 120, 0.1);
                color: var(--success);
                padding: 0.25rem 0.75rem;
                border-radius: 99px;
                font-size: 0.8rem;
                font-weight: 600;
              "
              >Active</span
            >
            {% else %}
            <span
              style="
                background: rgba(245, 101, 101, 0.1);
                color: var(--danger);
                padding: 0.25rem 0.75rem;
                border-radius: 99px;
                font-size: 0.8rem;
                font-weight: 600;
              "
              >Inactive</span
            >
            {% endif %}
          </td>
          <td
            style="
              padding: 1rem;
              color: var(--text-light);
              font-family: monospace;
              font-size: 0.85rem;
            "
          >
            <span style="opacity: 0.5">[Hidden/Hashed]</span>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td
            colspan="5"
            style="padding: 2rem; text-align: center; color: var(--text-light)"
          >
            No users found.
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
