{% extends "admin/base_site.html" %} {% load i18n static %} {% block extrastyle
%} {{ block.super }}
<link rel="stylesheet" href="{% static 'admin/css/dashboard.css' %}" />
<style>
  /* Custom Dashboard Styles */
  .dashboard-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    padding-top: 2rem;
  }

  /* Quick Actions Grid */
  .quick-actions {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .action-card {
    background: var(--module-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 2rem;
    text-align: center;
    transition: transform 0.2s, box-shadow 0.2s;
    text-decoration: none !important;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 160px;
  }

  .action-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); /* Darker shadow */
    border-color: var(--accent);
  }

  .action-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    display: block;
  }

  .action-label {
    color: var(--body-fg); /* Was --text-primary which might not be defined */
    font-weight: 600;
    font-size: 1.1rem;
    font-family: var(--font-heading);
  }

  .action-desc {
    color: var(--body-quiet-color); /* Was --text-secondary */
    font-size: 0.9rem;
    margin-top: 0.5rem;
  }

  /* Section Headers */
  .dashboard-section-title {
    font-family: var(--font-heading);
    font-size: 1.5rem;
    color: var(--primary); /* Use Primary (Gold) */
    margin-bottom: 1.5rem;
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 0.5rem;
    display: inline-block;
  }

  /* App List Override */
  .app-list-custom .module {
    margin-bottom: 1.5rem;
    background: var(--module-bg);
  }

  .app-list-custom table {
    width: 100%;
  }

  @media (max-width: 1024px) {
    .dashboard-container {
      grid-template-columns: 1fr;
    }
  }
</style>
{% endblock %} {% block content %}
<div id="content-main">
  <div
    class="welcome-banner mb-4"
    style="text-align: center; margin-bottom: 3rem"
  >
    <h1
      style="
        font-size: 2.5rem;
        font-family: var(--font-heading);
        margin-bottom: 0.5rem;
        color: var(--body-fg);
      "
    >
      Welcome, Pastor.
    </h1>
    <p style="color: var(--body-quiet-color)">
      Manage your ministry, sermons, and events from here.
    </p>
  </div>

  <h2 class="dashboard-section-title">Quick Actions</h2>

  <div class="quick-actions">
    <!-- Add Sermon -->
    <a href="{% url 'admin:sermons_sermon_add' %}" class="action-card">
      <span class="action-icon">üìñ</span>
      <span class="action-label">New Sermon</span>
      <span class="action-desc">Upload video, audio, or notes</span>
    </a>

    <!-- Add Event -->
    <a href="{% url 'admin:events_event_add' %}" class="action-card">
      <span class="action-icon">üìÖ</span>
      <span class="action-label">New Event</span>
      <span class="action-desc">Schedule a calendar item</span>
    </a>

    <!-- View Prayer Requests -->
    <a
      href="{% url 'admin:ministry_prayerrequest_changelist' %}"
      class="action-card"
    >
      <span class="action-icon">üôè</span>
      <span class="action-label">Prayer Wall</span>
      <span class="action-desc">View incoming requests</span>
    </a>

    <!-- View Contact Forms -->
    <a
      href="{% url 'admin:ministry_contactsubmission_changelist' %}"
      class="action-card"
    >
      <span class="action-icon">‚úâÔ∏è</span>
      <span class="action-label">Inbox</span>
      <span class="action-desc">Read contact messages</span>
    </a>
  </div>

  <div class="dashboard-container">
    <!-- Main Content Column -->
    <div class="main-column">
      <h2 class="dashboard-section-title">All Apps</h2>
      <div class="app-list-custom">
        {% if app_list %} {% for app in app_list %}
        <div class="module">
          <table>
            <caption style="text-align: left">
              <a
                href="{{ app.app_url }}"
                class="section"
                title="{% blocktranslate with name=app.name %}Models in the {{ name }} application{% endblocktranslate %}"
                >{{ app.name }}</a
              >
            </caption>
            {% for model in app.models %}
            <tr
              class="model-{{ model.object_name|lower }}{% if model.admin_url in request.path %} current-model{% endif %}"
            >
              {% if model.admin_url %}
              <th scope="row">
                <a href="{{ model.admin_url }}">{{ model.name }}</a>
              </th>
              {% else %}
              <th scope="row">{{ model.name }}</th>
              {% endif %} {% if model.add_url %}
              <td>
                <a href="{{ model.add_url }}" class="addlink"
                  >{% translate 'Add' %}</a
                >
              </td>
              {% else %}
              <td>&nbsp;</td>
              {% endif %} {% if model.admin_url %} {% if model.view_only %}
              <td>
                <a href="{{ model.admin_url }}" class="viewlink"
                  >{% translate 'View' %}</a
                >
              </td>
              {% else %}
              <td>
                <a href="{{ model.admin_url }}" class="changelink"
                  >{% translate 'Change' %}</a
                >
              </td>
              {% endif %} {% else %}
              <td>&nbsp;</td>
              {% endif %}
            </tr>
            {% endfor %}
          </table>
        </div>
        {% endfor %} {% else %}
        <p>
          {% translate 'You don‚Äôt have permission to view or edit anything.' %}
        </p>
        {% endif %}
      </div>
    </div>

    <!-- Sidebar Column -->
    <div class="sidebar-column">
      <h2 class="dashboard-section-title">Recent Activity</h2>
      <div id="content-related">
        <div class="module" id="recent-actions-module">
          <h3>{% translate 'My actions' %}</h3>
          {% load log %} {% get_admin_log 10 as admin_log for_user user %} {% if
          not admin_log %}
          <p>{% translate 'None available' %}</p>
          {% else %}
          <ul class="actionlist">
            {% for entry in admin_log %}
            <li
              class="{% if entry.is_addition %}addlink{% endif %}{% if entry.is_change %}changelink{% endif %}{% if entry.is_deletion %}deletelink{% endif %}"
            >
              {% if entry.is_deletion or not entry.get_admin_url %} {{
              entry.object_repr }} {% else %}
              <a href="{{ entry.get_admin_url }}">{{ entry.object_repr }}</a>
              {% endif %}
              <br />
              <span class="mini quiet"
                >{% translate entry.content_type.name|capfirst %}</span
              >
            </li>
            {% endfor %}
          </ul>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
